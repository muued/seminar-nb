% Copyright 2007 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\ProvidesPackageRCS $Header: /cvsroot/latex-beamer/latex-beamer/themes/outer/beamerouterthemeSTCE.sty,v 1.9 2007/01/28 20:48:30 tantau Exp $


\newdimen\beamer@sidebarwidth
\newdimen\beamer@headheight
\usebeamerfont{frametitle}
\beamer@sidebarwidth=2.5\baselineskip
\beamer@headheight=1.8\baselineskip
\reset@font

\def\beamer@lefttext{left}

\DeclareOptionBeamer{hideothersubsections}[]{\beamer@nav@subsectionstyle{show/show/hide}}
\DeclareOptionBeamer{hideallsubsections}[]{\beamer@nav@subsectionstyle{hide}}

\DeclareOptionBeamer{width}{\beamer@sidebarwidth=#1}
\DeclareOptionBeamer{height}{\beamer@headheight=#1}
\DeclareOptionBeamer{left}{\def\beamer@sidebarside{left}}
\DeclareOptionBeamer{right}{\def\beamer@sidebarside{right}}%
\ExecuteOptionsBeamer{left}
\ProcessOptionsBeamer


\mode<presentation>

\ifdim\beamer@headheight>0pt
% if head height is 0pt, use default frame title

  \setbeamercolor*{frametitle}{parent=STCE}

  \defbeamertemplate*{frametitle}{STCE theme}
  {%
    \nointerlineskip%
    \vskip-0.96\beamer@headheight%
    \vbox to \beamer@headheight{%
      \vfil
      \leftskip=0.8\beamer@sidebarwidth%\beamer@leftmargin%
      \advance\leftskip by0.3cm%
      \rightskip= 3\beamer@rightmargin%
      \advance\rightskip by0.3cm plus1fil%
      {\usebeamercolor[fg]{frametitle}\usebeamerfont{frametitle}\centering\insertframetitle\par}%
      {\usebeamercolor[fg]{framesubtitle}\usebeamerfont{framesubtitle}\insertframesubtitle\par}%
      \vbox{}%
      \vskip-1em%
      \vfil
    }%
  }

  \defbeamertemplate*{headline}{STCE theme}
  {%
    \begin{beamercolorbox}[wd=\paperwidth]{frametitle}
      %\ifx\beamer@sidebarside\beamer@lefttext%
     % \else%
%        \hfill%
      %\fi%
      \ifdim\beamer@sidebarwidth>0pt%
        %\usebeamercolor[bg]{logo}%
        \usebeamercolor[bg]{frametitle}
        \vrule width\beamer@sidebarwidth height \beamer@headheight%
        \hskip-0.95\beamer@sidebarwidth%
        \hbox to \beamer@sidebarwidth{\hss\vbox to
	 \beamer@headheight{\vss\hbox{\color{fg}\hskip 0.5cm \includegraphics[width=1.5cm]{figures/logo.eps}}\vss}\hss}%
        \hfill
        \hskip -1.5\beamer@sidebarwidth%
        \hbox to 1.5\beamer@sidebarwidth{\hss\vbox to
          \beamer@headheight{\vss\hbox{\color{fg}\includegraphics[width=2cm]{figures/rwth_logo.eps}}\vss}\hss}%

%                
      \else%
        \vrule width0pt height \beamer@headheight%
      \fi%
    \end{beamercolorbox}
  }
\fi


\ifdim\beamer@sidebarwidth>0pt
                                % Sidebar
  % \setbeamersize{sidebar width \beamer@sidebarside=\beamer@sidebarwidth}
%  \defbeamertemplate*{sidebar \beamer@sidebarside}{sidebar theme}
%  {
%    %    \beamer@tempdim=\beamer@sidebarwidth%
%    %    \advance\beamer@tempdim by -6pt%
%    %    {\usebeamerfont{title in sidebar}%
%    %      \vskip1.5em%
%    %      \hskip3pt%
%    %      \usebeamercolor[fg]{title in sidebar}%
%    %      \insertshorttitle[width=\beamer@tempdim,center,respectlinebreaks]\par%
%    %      \vskip1.25em%
%    %    }%
%    % {%
%    %   % \hskip3pt%
%    %   % \usebeamercolor[fg]{author in sidebar}%
%    %   % \usebeamerfont{author in sidebar}%
%    %   % \insertshortauthor[width=\beamer@tempdim,center,respectlinebreaks]\par%
%    %   % \vskip1.25em%
%    % }%
%    % \insertverticalnavigation{\beamer@sidebarwidth}%
%    % \vfill
%    % \ifx\beamer@sidebarside\beamer@lefttext%
%    % \else%
%    %   \usebeamercolor{normal text}%
%    %   \llap{\usebeamertemplate***{navigation symbols}\hskip0.1cm}%
%    %   \vskip2pt%
%    % \fi%
%  }%

  \ifx\beamer@sidebarside\beamer@lefttext%
    \defbeamertemplate*{sidebar right}{STCE theme}
    {%
      \vfill%
      \llap{\usebeamertemplate***{navigation symbols}\hskip0.1cm}%
      \vskip2pt}
  \fi
\fi
                                % Margins
  \setbeamersize{text margin left=0.5cm,text margin right=0.5cm}


\mode
<all>

%%% Local Variables:
%%% TeX-master: "~/texmf/tex/latex/beamer/test/test.tex"
%%% End:
